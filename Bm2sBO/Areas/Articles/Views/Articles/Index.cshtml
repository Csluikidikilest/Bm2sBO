﻿@model Bm2sBO.Areas.Articles.Models.ArticlesModel

@using Bm2sBO.Utils;

@{
  ViewBag.Title = "Articles";
}

<div data-ng-controller="Article">
  <table class="table table-striped table-condensed">
    <thead>
      <tr>
        <th>@Html.TranslationFor("listarticles", "code", "Code")</th>
        <th>@Html.TranslationFor("listarticles", "designation", "Designation")</th>
        <th>@Html.TranslationFor("listarticles", "date", "Date")</th>
        <th>@Html.TranslationFor("listarticles", "family", "Family")</th>
        <th>@Html.TranslationFor("listarticles", "subfamily", "Sub family")</th>
        <th>@Html.TranslationFor("listarticles", "brand", "Brand")</th>
        <th>@Html.TranslationFor("listarticles", "unit", "Unit")</th>
        @if (UserUtils.CanEditArticles)
        {
          <th>@Html.TranslationFor("listarticles", "edit", "Edit")</th>}
        @if (UserUtils.CanDeleteArticles)
        {
          <th>@Html.TranslationFor("listarticles", "delete", "Delete")</th>}
      </tr>
    </thead>
    <tbody>
      <tr data-ng-repeat="Article in Articles">
        <td>{{Article.Code}}</td>
        <td>{{Article.Designation}}</td>
        <td>{{Article.StartingDate|ctime}}</td>
        <td>{{Article.ArticleFamily.Designation}}</td>
        <td>{{Article.ArticleSubFamily.Designation}}</td>
        <td>{{Article.Brand.Name}}</td>
        <td>{{Article.Unit.Name}}</td>
        @if (UserUtils.CanEditArticles)
        {
          <td><a href="/Article/Edit?articleId={{Article.Id}}"><span class="fa fa-pencil" /></a></td>}
        @if (UserUtils.CanDeleteArticles)
        {
          <td><a href="/Article/Delete?articleId={{Article.Id}}"><span class="fa fa-trash" /></a></td>}
      </tr>
    </tbody>
  </table>
</div>

<script type="text/javascript">
  var articles = @Model.Article.Response.ToHtmlJson();
</script>